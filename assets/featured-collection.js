class FeaturedCollection extends HTMLElement{constructor(){super()}connectedCallback(){this.current_width=window.innerWidth,this.display_type=this.getAttribute("data-display-type"),this.grid=this.querySelector(".featured-collection--grid"),this.hover_images=this.querySelectorAll(".product--hover-image"),this.section_id=this.getAttribute("data-section-id"),this.items=this.querySelectorAll(".product--root"),"loading"===document.readyState?window.on("DOMContentLoaded",()=>this.load()):this.load()}load(){this.resizeListener(),this.setGreatestHeight(),Shopify.designMode&&this.sectionListeners(),theme.settings.hover_image_enabled&&this.hoverImagesLoaded()}resizeListener(){window.on("resize."+this.section_id,theme.utils.debounce(100,()=>{this.current_width!==window.innerWidth&&(this.setGreatestHeight(),this.current_width=window.innerWidth)}))}sectionListeners(){this.on("theme:section:unload",()=>window.off("resize."+this.section_id))}setGreatestHeight(){if("grid"===this.display_type)theme.utils.matchImageHeights(this.grid,this.items,".product--image-wrapper");else{let i=0;const s=[];this.items.forEach(e=>{const t=e.querySelector(".product--image-wrapper");t&&(t.style.height="auto",e=t.offsetHeight,s.push(t),e>i&&(i=e))}),s.forEach(e=>e.style.height=i+"px"),window.trigger("theme:carousel:imagesResized")}}hoverImagesLoaded(){this.hover_images.forEach(t=>{theme.utils.imagesLoaded(t,()=>{const e=t.closest('[data-hover-image="true"]');e&&e.setAttribute("data-hover-image","loaded")})})}}customElements.define("featured-collection-root",FeaturedCollection);