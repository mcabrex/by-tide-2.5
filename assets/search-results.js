class SearchResults extends HTMLElement{constructor(){super()}connectedCallback(){this.current_width=window.innerWidth,this.other_container=this.querySelector(".search-results--other"),this.products_container=this.querySelector(".search-results--products"),this.view=this.getAttribute("data-view"),"loading"===document.readyState?window.on("DOMContentLoaded",()=>this.load()):this.load()}load(){"products"===this.view?(this.updateProductsListener(),this.resizeProductListener(),this.matchProductHeights(),theme.settings.hover_image_enabled&&this.loadHoverImages()):"other"===this.view&&(this.resizeOtherListener(),this.matchOtherHeights())}updateProductsListener(){window.on("theme:navigation:productsUpdated",()=>{this.matchProductHeights(),theme.settings.hover_image_enabled&&this.loadHoverImages()})}matchProductHeights(){theme.utils.matchImageHeights(this.products_container,this.products_container.querySelectorAll(".product--root"),".product--image-wrapper")}loadHoverImages(){this.querySelectorAll(".product--hover-image").forEach(t=>{theme.utils.imagesLoaded(t,()=>{const e=t.closest('[data-hover-image="true"]');e&&e.setAttribute("data-hover-image","loaded")})})}resizeProductListener(){window.on("resize.Search",theme.utils.debounce(100,()=>{this.current_width!==window.innerWidth&&(this.matchProductHeights(),this.current_width=window.innerWidth)}))}matchOtherHeights(){theme.utils.matchImageHeights(this.other_container,this.other_container.querySelectorAll(".article--item"),".article--item--image")}resizeOtherListener(){window.on("resize.Search",theme.utils.debounce(100,()=>{this.current_width!==window.innerWidth&&(this.matchOtherHeights(),this.current_width=window.innerWidth)}))}}customElements.define("search-results-root",SearchResults);